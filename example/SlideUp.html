<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title></title>
  <script type="text/javascript" src="../src/libs/jquery.min.js"></script>
  <script type="text/javascript" src="../dist/nx.core.js"></script>
  <style type="text/css">
    .demo-widget-SlideUp {
      padding: 10px;
      border: 1px solid #ccc;
    }

    .demo-widget-SlideUp > .hd {
      font-weight: bold;
      cursor: pointer;
      height: 20px;
      line-height: 20px;
    }

    .demo-widget-SlideUp > .hd:hover {
      background: #eee;
    }

    .demo-widget-SlideUp > .bd {
      background: #f60;
      color: #fff;
    }
  </style>
</head>
<body>
<div class="demo-widget-SlideUp" data-active="true">
  <div class="hd">
    Title Area
  </div>
  <div class="bd">
    Will be display after you click the header part! <br/>
    Will be display after you click the header part! <br/>
    Will be display after you click the header part! <br/>
  </div>
</div>
<script type="text/javascript">
  nx.declare('demo.widget.SlideUp', {
    properties: {
      $active: {
        get: function () {
          return this._$el.attr('data-active') === 'true';
        },
        set: function (inBoolean) {
          var val = !!inBoolean;
          this._$el.find('.bd').slideToggle();
          this._$el.attr('data-active', val);
        }
      }
    },
    methods: {
      init: function (inSelector) {
        this._$el = $(inSelector);
        this.onHdClick();
      },
      onHdClick: function () {
        var root = this._$el;
        var self = this;
        root.find('.hd').on('click', function (evt) {
          self.$active(!self.$active());
        });
      }
    }
  });


  var instance = new demo.widget.SlideUp('.demo-widget-SlideUp');


  instance.on('$active', function (sender, evt) {
    console.log(sender, evt);
  });
</script>
</body>
</html>
